//
//  IMGModel.swift
//  云课堂2
//
//  Created by 尤增强 on 2018/6/7.
//  Copyright © 2018年 jcjy. All rights reserved.
//
import UIKit
import SwiftyJSON
class UploadDocModel: NSObject {

    var url:String = ""
    var size:Int = 0
    var md5:String = ""
    var type:String = ""
    var docTitle:String = ""
    var docUrl:String = ""
    var img:UIImage = #imageLiteral(resourceName: "default_slider_img.png")
    var IsMyFile:Bool = false //是否是自己上传的
    var Id:String = ""  //附件作业中学生回答没条附件的Id
    var isAdd = false
    init(i:JSON) {
        self.url = i["docOssPreview"].stringValue
        if(i["docOssPreview"].stringValue.isEmpty){
             self.url = i["docPreview"].stringValue
        }
        self.type = i["doctype"].stringValue
        self.md5 = i["md5"].stringValue
        self.size = i["size"].intValue
        self.docUrl = i["docUrl"].stringValue
        self.docTitle = i["docTitle"].stringValue
        self.img = UIImage.init()
        self.IsMyFile = false
        self.Id = ""
    }

    init(data:JSON,img:UIImage) {
        self.url = data["ossOriUrl"].stringValue
        self.type = data["type"].stringValue
        self.md5 = data["md5"].stringValue
        self.size = data["size"].intValue
        self.docUrl = data["url"].stringValue
        self.docTitle = data["docTitle"].stringValue
        self.img = img
        self.IsMyFile = false
        self.Id = ""
    }

    init(data:JSON,type:String,img:UIImage,docTitle:String) {
        self.url = data["ossOriUrl"].stringValue
        self.type = type
        self.md5 = data["md5"].stringValue
        self.size = data["size"].intValue
        self.docUrl = data["url"].stringValue
        self.docTitle = docTitle
        self.img = img
        self.IsMyFile = false
        self.Id = ""
    }
    init(discussjson:JSON,type:String,md5:String,size:Int) {
        self.url = discussjson["docOssPreview"].stringValue
        if(discussjson["docOssPreview"].stringValue.isEmpty){
            self.url = discussjson["docPreview"].stringValue
        }
        self.type = type
        self.md5 = md5
        self.size = size
        self.docUrl = discussjson["docUrl"].stringValue
        self.docTitle = discussjson["docTitle"].stringValue
        self.img = UIImage.init()
        self.IsMyFile = false
        self.Id = ""
    }

    init( MOOCJSON:JSON) {
        self.url = MOOCJSON["DocSrc"].stringValue
        self.docUrl = MOOCJSON["Url"].stringValue
        self.docTitle = MOOCJSON["Title"].stringValue
    }

    init(homeWorkFile:JSON,ztWay:Int) {
        if homeWorkFile["IsMyFile"].intValue == 1 || ztWay == 3{
            self.IsMyFile = true
        }else{
            self.IsMyFile = false
        }
        self.type = homeWorkFile["docType"].stringValue
        self.md5 = homeWorkFile["Md5"].stringValue
        self.size = homeWorkFile["docSize"].intValue
        self.docUrl = homeWorkFile["docUrl"].stringValue
        self.docTitle = homeWorkFile["docTitle"].stringValue
        self.img = UIImage.init()
        self.Id = homeWorkFile["Id"].stringValue
        self.url = homeWorkFile["docOssPreview"].stringValue
    }
    init(data:JSON,previewUrl:String,type:String,docTitle:String,IsMyFile:Bool) {
        self.url = previewUrl.replacingOccurrences(of:"?" , with:data["url"].stringValue + "?" )
        self.type = type
        self.md5 = data["md5"].stringValue
        self.size = data["size"].intValue
        self.docUrl = data["url"].stringValue
        self.docTitle = docTitle
        self.img = UIImage.init()
        self.IsMyFile = IsMyFile
        self.Id = ""

    }
}
