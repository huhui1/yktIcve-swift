//
//  Account.swift
//  云课堂2
//
//  Created by 尤增强 on 2018/6/13.
//  Copyright © 2018年 zqyou. All rights reserved.
//
import Foundation
import SwiftyJSON
import Alamofire
enum UserDefaultsKey {
    static let account = "MYAccount"
}

struct Account: Codable {

    var id:String?
    var displayName:String? //第一用户名
    var secondUserName:String? //第二用户名
    var schoolName:String?
    var number:String?
    var avatar:String?
    var schoolId:String?
    var role:String?
    var token:String?
    var token2:String?
    var password:String?
    var isRememberThepassword:Bool?
    var loginTime:Int?//登录的时间戳

    var isValid:Int?
    
    static public var defaultAccount:Account {
        get {
            let accountData:Data? = UserDefaults.standard.object(forKey: UserDefaultsKey.account) as? Data
            guard accountData != nil else {
                return Account()
            }
            let account = try! JSONDecoder().decode(Account.self, from: accountData!)
            return account
        }

    }
    
    static func saveAccount(_ newAccount:Account) {
        let data = try! JSONEncoder().encode(newAccount)
        UserDefaults.standard.set(data, forKey: UserDefaultsKey.account)
    }
//    static func removeAccount(){
//        UserDefaults.standard.removeObject(forKey: UserDefaultsKey.account)
//    }
        
    init(
        ) {
  
    }
}
