//
//  CollectionReusableViewHeader.swift
//  云课堂2
//
//  Created by 尤增强 on 2018/7/26.
//  Copyright © 2018年 zqyou. All rights reserved.
//

import UIKit

let headerIdentifier = "CollectionReusableViewHeader"

@objc protocol CollectionReusableViewHeaderDelegate{
    //返回是否展开
    @objc optional func ReturnIsUnfold(_ isfold :Bool,_index:Int )
}
class CollectionReusableViewHeader: UICollectionReusableView {
    var _index = 0
    var delegate :CollectionReusableViewHeaderDelegate!
    lazy var lab_gov : UILabel = {
        let lab = UILabel()
        lab.textColor = UIColor.black
        lab.font = UIFont.init(name: "Helvetica", size: 16)
        lab.backgroundColor = UIColor.white
        lab.text = "国家项目"
        return lab
    }()
    lazy var lab_line : UILabel = {
        let lab = UILabel()
        lab.text = "|"
        lab.textColor = UIColor.bg
        return lab
    }()

    lazy var btn_Unfold : UIButton = {
        let btn = UIButton()
        btn.setTitle("\u{e607}", for: .normal)
        btn.setTitle("\u{e604}", for: .selected)
        btn.setTitleColor(UIColor.lightGray, for: .normal)
        btn.titleLabel?.font = UIFont.init(name: "iconfont", size: 18)
        btn.addTarget(self, action: #selector(self.touchView), for:.touchUpInside)
        return btn
    }()
   

    override init(frame: CGRect) {
        super.init(frame: frame)

        self.addSubview(self.lab_gov)

        self.addSubview(self.btn_Unfold)
        self.addSubview(self.lab_line)
        self.lab_gov.snp.makeConstraints { (make) in
            make.width.equalTo(80)
            make.top.equalTo(5)
            make.left.equalTo(10)
            make.height.equalTo(20)
        }
        self.lab_line.snp.makeConstraints { (make) in
            make.width.equalTo(4)
            make.top.equalTo(0)
            make.left.equalTo(2)
            make.height.equalTo(14)
        }
        self.btn_Unfold.snp.makeConstraints { (make) in
            make.width.equalTo(40)
            make.centerY.height.equalTo(self.lab_gov)
            make.right.equalTo(0)
        }
        let tap = UITapGestureRecognizer.init(target: self, action: #selector(self.touchView))
        self.isUserInteractionEnabled = true
        self.addGestureRecognizer(tap)
    }

    @objc  func touchView(){
        self.btn_Unfold.isSelected =  !self.btn_Unfold.isSelected
        self.delegate?.ReturnIsUnfold!(self.btn_Unfold.isSelected, _index: _index)
    }

    let width = UIScreen.main.bounds.width
    
    required init?(coder aDecoder: NSCoder) {
        fatalError("init(coder:) has not been implemented")
    }
}
