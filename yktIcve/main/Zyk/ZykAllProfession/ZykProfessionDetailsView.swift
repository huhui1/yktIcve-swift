//
//  ZykProfessionDetailsView.swift
//  云课堂2
//
//  Created by cc on 2018/7/12.
//  Copyright © 2018年 zqyou. All rights reserved.
//

import UIKit

class ZykProfessionDetailsView: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()
        self.view.backgroundColor = UIColor.white
        self.setSlideMenu()
        self.title = self.ProjectName
        let item = UIBarButtonItem(title: "返回", style: .plain, target: self, action: nil)
        self.navigationItem.backBarButtonItem = item
        // Do any additional setup after loading the view.
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }
    
    func setSlideMenu(){
        let titles = ["课程","微课"]
        var arr:Array<UIViewController> = [];
        let vc1 = ZykProfessionCourseView()
        let vc2 = ZykProfessionSmallClassView()

        vc1.Id = self.Id
        vc1.Detegate = self 
        
        vc2.Id = self.Id
        vc2.Dategate = self
        
        arr.append(vc1)
        arr.append(vc2)
        var ht = 0
        if common.share.isX(){
            ht = 30
        }
        
        slideMenu = SlideMenu(frame: CGRect(x:0,y:0,width:view.frame.width,height:40), titles:titles, childControllers:arr)
        slideMenu?.bodyFrame = CGRect.init(x: 0, y: 40, width: view.frame.width, height: view.frame.height - 103 - CGFloat(ht))
        slideMenu?.selectedColor = UIColor(red: 6/255, green: 163/255, blue: 121/255, alpha: 1);

        slideMenu?.isFixed = true;
        slideMenu?.indicatorStyle = .followText;
        slideMenu?.titleStyle = .transfrom;
        slideMenu?.line.isHidden = false;
        slideMenu?.scrollToIndex(0)
        view.addSubview(slideMenu!)
    }
    
    var slideMenu:SlideMenu?
    lazy var Id:String = ""
    var ProjectName = ""
}

extension ZykProfessionDetailsView:ZykProfessionSmallClassViewDategate,ZykProfessionCourseViewDategate{
    //微课
    func smallClassDetails(Info: ZykAllCourseModel) {
        let vc = ZykcourseDetailsView()
        vc.DetailsType = 1
        vc.type = 2
        vc.courseTitle = Info.title.description
        vc.courseId = Info.id.description
        self.navigationController?.pushViewController(vc, animated: true)
    }
    //课程
    func CourseDetails(Info: ZykAllCourseModel) {
        let vc = ZykcourseDetailsView()
        vc.DetailsType = 1
        vc.type = 1
        vc.courseId = Info.id.description
        vc.courseTitle = Info.title.description
        self.navigationController?.pushViewController(vc, animated: true)
    }
}


