//
//  discussDetailsCell.swift
//  云课堂2
//
//  Created by 志辉教育 on 2018/6/6.
//  Copyright © 2018年 zqyou. All rights reserved.
//

import UIKit
import SwiftyJSON

@objc protocol discussDetailsCellDelegate:NSObjectProtocol  {
    
    func DeleteReply(_ btn:UIButton) -> ()
}
class discussDetailsCell: UITableViewCell {

    @IBOutlet weak var lab_name: UILabel!
    
    @IBOutlet weak var lab_con: UILabel!
    
    @IBOutlet weak var lab_data: UILabel!
    
    @IBOutlet weak var delectBtn: UIButton!

    override func awakeFromNib() {
        super.awakeFromNib()
        // Initialization code
        self.lab_data.textColor = UIColor.gray
        self.lab_name.textColor = UIColor.bg
        self.delectBtn.addTarget(self, action: #selector(self.deleteReply(_:)), for: .touchUpInside)
        }
  
    var delegate :discussDetailsCellDelegate!
    override func setSelected(_ selected: Bool, animated: Bool) {
        super.setSelected(selected, animated: animated)

        // Configure the view for the selected state
    }
    //删除
    @objc func deleteReply(_ btn:UIButton){
        self.delegate?.DeleteReply(btn)
    }
    
    func setReply(reply:JSON){
        let strname = "\(reply["displayName"].stringValue) 回复 \(reply["replyToDisplayName"].stringValue)"
        
        lab_name.attributedText = common.share.changeTextChange(regex:.hf, text: strname, color: UIColor.black);
        
        lab_name.text = "\(reply["displayName"].stringValue) 回复 \(reply["replyToDisplayName"].stringValue)"

        lab_data.text = "\(reply["dateCreated"].stringValue)"
        if reply["isMine"] == true  {
            delectBtn.isHidden = false
            delectBtn.setTitleColor(UIColor.bg, for: .normal)
            
        }else{
            delectBtn.isHidden = true
        }

    }
    
}
