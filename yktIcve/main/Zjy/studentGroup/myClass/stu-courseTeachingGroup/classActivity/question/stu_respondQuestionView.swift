//
//  stu_respondQuestionView.swift
//  云课堂职教云
//
//  Created by cc on 2018/5/17.
//  Copyright © 2018年 jcjy. All rights reserved.
//

import UIKit
import Alamofire
import SwiftyJSON

class stu_respondQuestionView: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()
        self.title = "提问"
        self.view.backgroundColor = UIColor.colorWithHex(hexColor: 0xf2f2f2)
        self.setUI()
        self.refreshItemData()
        // Do any additional setup after loading the view.
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }
    
    func setUI(){
        self.view.addSubview(self.questitle)
        self.view.addSubview(self.center)
        self.questitle.snp.makeConstraints { (make) in
            make.width.equalTo(UIScreen.main.bounds.width)
            make.height.equalTo(50)
            make.top.equalTo(10)
        }
        self.center.snp.makeConstraints { (make) in
            make.width.equalTo(UIScreen.main.bounds.width)
            make.height.equalTo(UIScreen.main.bounds.height - 130)
            make.top.equalTo(self.questitle.snp.bottom).offset(10)
        }
    }
    //获取数据
    func refreshItemData(){
        XLBallLoading.show(in: self.view)
        let dict = ["askId":quizId]
        Alamofire.request(appAPI.FaceTeach_getStuAskedList, method: .post, parameters: dict, encoding: URLEncoding.default).responseJSON { response in
            if let value = response.result.value {
                let json = JSON(value)
                if json["code"] == 1{
                    self.questitle.text = json["title"].stringValue
                    self.center.text = json["content"].stringValue
                    if(self.center.text.count < 1){
                        self.center.text = "此提问暂无内容"
                    }
                }else{
                    ZKProgressHUD.showError("网络异常请稍后再试！");
                }
                XLBallLoading.hide(in: self.view)
            }else{
                XLBallLoading.hide(in: self.view)
                ZKProgressHUD.showError("网络环境异常请稍后再试！");
            }
        }
        
    }
   
    lazy var questitle : UITextView = {
        let text = UITextView()
        text.font = UIFont.italicSystemFont(ofSize: 15)
        text.textColor = UIColor.black
        text.backgroundColor = UIColor.white
        text.isEditable = false
        return text
    }()
    lazy var center : UITextView = {
        let text = UITextView()
        text.font = UIFont.italicSystemFont(ofSize: 13)
        text.textColor = UIColor.black
        text.backgroundColor = UIColor.white
        text.isEditable = false
        return text
    }()
    
    lazy var quizId :String = {return ""}()
    lazy var list:NSArray = []
}
