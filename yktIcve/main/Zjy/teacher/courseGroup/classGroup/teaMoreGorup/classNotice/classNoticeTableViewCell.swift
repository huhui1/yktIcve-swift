//
//  classNoticeTableViewCell.swift
//  云课堂2
//
//  Created by cc on 2018/6/25.
//  Copyright © 2018年 zqyou. All rights reserved.
//

import UIKit
import SwiftyJSON

class classNoticeTableViewCell: UITableViewCell {

    override func awakeFromNib() {
        super.awakeFromNib()
        // Initialization code
    }

    override func setSelected(_ selected: Bool, animated: Bool) {
        super.setSelected(selected, animated: animated)

        // Configure the view for the selected state
    }
    required init?(coder aDecoder: NSCoder) {
        super.init(coder: aDecoder)
    }
    
    override init(style: UITableViewCellStyle, reuseIdentifier: String?) {
        super.init(style: style, reuseIdentifier: reuseIdentifier)
        self.setUI()
    }
    func setUI(){
        self.addSubview(self.bgView)
        self.bgView.addSubview(self.lab_title)
        self.bgView.addSubview(self.lab_content)
        self.bgView.addSubview(self.lab_date)
        self.bgView.addSubview(self.lab_isRead)
        self.bgView.snp.makeConstraints  { (make) in
            make.width.equalTo(width - 24)
            make.height.equalTo(120)
            make.center.equalTo(self.snp.center)
        }
        //设置图片卡片样式
//        let shadowPath = UIBezierPath(roundedRect: bounds, cornerRadius: 0.6)
        self.bgView.layer.masksToBounds = false
        self.bgView.layer.cornerRadius = 6
        self.bgView.layer.shadowColor = UIColor.colorWithHex(hexColor: 0x5C5C5C).cgColor
        self.bgView.layer.shadowOffset = CGSize.init(width: 2, height: 2)
        self.bgView.layer.shadowOpacity = 0.2
//        self.bgView.layer.shadowPath = shadowPath.cgPath
        self.bgView.layer.borderColor = UIColor.gray.cgColor
        self.bgView.layer.borderWidth = 0.08
    
        self.lab_title.snp.makeConstraints { (make) in
            make.width.equalTo(width - 80)
            make.height.equalTo(20)
            make.top.equalTo(self.bgView.snp.top).offset(10)
            make.left.equalTo(self.bgView.snp.left).offset(10)
        }
        self.lab_isRead.snp.makeConstraints { (make) in
            make.width.height.equalTo(12)
            make.centerY.equalTo(self.lab_title.snp.centerY)
            make.right.equalTo(self.bgView.snp.right).offset(-10)
        }
        self.lab_isRead.layer.masksToBounds = true
        self.lab_isRead.layer.cornerRadius = 6
        
        self.lab_content.snp.makeConstraints { (make) in
            make.width.equalTo(width - 44)
            make.height.equalTo(50)
            make.top.equalTo(self.lab_title.snp.bottom).offset(10)
            make.left.equalTo(self.bgView.snp.left).offset(10)
        }
        self.lab_date.snp.makeConstraints { (make) in
            make.width.equalTo(200)
            make.height.equalTo(20)
            make.left.equalTo(self.bgView.snp.left).offset(10)
            make.bottom.equalTo(self.bgView.snp.bottom).offset(-10)
        }
    }
    func setCell(data:classNoticeModel){
        //富文本
        let paraph = NSMutableParagraphStyle()
        paraph.lineSpacing  = 5
        let attributes = [NSAttributedStringKey.paragraphStyle: paraph]
        lab_title.text = data.Title
        lab_content.attributedText = NSAttributedString.init(string: data.Content,attributes:attributes)
        lab_content.lineBreakMode = .byTruncatingTail
        lab_date.text = data.DateCreated
        if data.IsSee == 1{
            lab_isRead.isHidden = true
            lab_title.textColor = UIColor.colorWithHex(hexColor: 0x545454)
            lab_content.textColor = UIColor.colorWithHex(hexColor: 0x8F8F8F)
            lab_date.textColor = UIColor.colorWithHex(hexColor: 0x8F8F8F)
        }else{
            lab_isRead.isHidden = false
            lab_title.textColor = UIColor.colorWithHex(hexColor: 0x27BE71)
            lab_content.textColor = UIColor.colorWithHex(hexColor: 0x333333)
            lab_date.textColor = UIColor.colorWithHex(hexColor: 0x333333)
        }
    }
    
    let width = UIScreen.main.bounds.width
    let height = UIScreen.main.bounds.height
    
    lazy var bgView : UIView = {
        let view = UIView()
        view.backgroundColor = UIColor.white
        return view
    }()
    
    lazy var lab_title : UILabel = {
        let lab = UILabel()
        lab.font = UIFont.italicSystemFont(ofSize: 15)
        lab.backgroundColor = UIColor.white
        return lab
    }()
    lazy var lab_content : UILabel = {
        let lab = UILabel()
        lab.font = UIFont.italicSystemFont(ofSize: 15)
        lab.backgroundColor = UIColor.white
        lab.numberOfLines = 2
        return lab
    }()
    lazy var lab_date : UILabel = {
        let lab = UILabel()
        lab.font = UIFont.italicSystemFont(ofSize: 15)
        lab.backgroundColor = UIColor.white
        return lab
    }()
    lazy var lab_isRead : UILabel = {
        let lab = UILabel()
        lab.backgroundColor = UIColor.colorWithHex(hexColor: 0xF53838)
        return lab
    }()
}
