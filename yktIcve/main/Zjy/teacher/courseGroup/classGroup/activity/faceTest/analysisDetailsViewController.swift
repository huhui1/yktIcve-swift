//
//  analysisDetailsViewController.swift
//  云课堂职教云
//
//  Created by cc on 2018/4/4.
//  Copyright © 2018年 jcjy. All rights reserved.
//

import UIKit
import SwiftyJSON
import Alamofire

extension analysisDetailsView {
    func getData(){
//        ZKProgressHUD.setAnimationStyle(.chrysanthemum)
//        ZKProgressHUD.show()
        XLBallLoading.show(in: self.view)
        let dict = ["courseOpenId":self.courseOpenId,
                    "activityId":self.activityId,
                    "classTestId":self.classTestId,
                     "questionId":self.questionId]as[String:Any]
        Alamofire.request(appAPI.FaceTeach_getOptionStuStatis, method: .post, parameters: dict, encoding: URLEncoding.default).responseJSON { response in
            if let value = response.result.value {
                let json = JSON(value)
                if json["code"] == 1{
//                    ZKProgressHUD.hide()
                    if json["optionStuList"].count > 0{
                        self.list = json["optionStuList"].arrayValue as NSArray
                    }
                    self.tableView.reloadData()
                }else{
                    ZKProgressHUD.showError("网络异常请稍后再试！");
                }
                XLBallLoading.hide(in: self.view)
            }else{
                XLBallLoading.hide(in: self.view)
                ZKProgressHUD.showError("网络环境异常请稍后再试！");
            }
        }
    }
 
    
   
    

}
