//
//  groupPKInfoCell.swift
//  66iclasscloud
//
//  Created by 尤增强 on 2018/1/26.
//  Copyright © 2018年 zqy. All rights reserved.
//

import UIKit

class groupPKInfoCell: UITableViewCell,ZQStarReteViewDelegate {
    
    override func awakeFromNib() {
        super.awakeFromNib()
        // Initialization code
    }

    override init(style: UITableViewCellStyle, reuseIdentifier: String?) {
        super.init(style: style, reuseIdentifier: reuseIdentifier)
        self.backgroundColor = UIColor.colorWithHex(hexColor: 0xf2f2f2)
        self.steUI()
    }

    //MARK: - 协议代理
    func starRate(view starRateView: ZQStarRateView, score: Float) {
             self.scoreClosure!(Int(score));
             print(score)
    }
    
    func steUI(){

        self.addSubview(lab_index)
        self.addSubview(btn_addStu)

        
        self.lab_index.snp.makeConstraints { (make) in
            make.width.height.equalTo(20)
            make.left.equalTo(4)
            make.centerY.equalTo(self.snp.centerY)
        }

        self.lab_index.layer.cornerRadius = 10
        self.btn_addStu.snp.makeConstraints { (make) in
            make.width.equalTo(50)
            make.height.equalTo(30)
            make.right.equalTo(0)
            make.centerY.equalTo(self.snp.centerY)
        }


        self.addSubview(view_star)
        view_star.delegate = self
        view_star.usePanAnimation = true
        view_star.allowUserPan = true//滑动评星
        view_star.allowUnderCompleteStar = false // 完整星星

    }

    func setScoreUI(score:Float){

        view_star.changeStarRate(score:score)
    }
    
    required init?(coder aDecoder: NSCoder) {
        fatalError("init(coder:) has not been implemented")
    }
    override func setSelected(_ selected: Bool, animated: Bool) {
        super.setSelected(selected, animated: animated)

        // Configure the view for the selected state
    }

    let width = UIScreen.main.bounds.width
    lazy var lab_index:UILabel = {
        let lab = UILabel()
        lab.font = UIFont.init(name: "iconfont", size: 14)
        lab.layer.masksToBounds = true
        lab.textAlignment = .center
        lab.backgroundColor = UIColor.bg
        lab.textColor = UIColor.white
        return lab
    }()

    lazy var btn_addStu :UIButton = {
        let btn = UIButton()
        btn.titleLabel?.font = UIFont.init(name: "iconfont", size: 16)
        btn.setTitle("\u{e6e0}(0)", for: .normal)
        btn.setTitleColor(UIColor.bg, for: .normal)
        btn.contentMode = .center
        
        return btn
    }()
//  view_star =
    var view_star:ZQStarRateView = {
        let view = ZQStarRateView.init(frame:  CGRect.init(x: 25, y: 10, width: UIScreen.main.bounds.width - 80, height: 40), starCount: 10, score: 0.0)
        return view
    }()
    var scoreClosure :((_ score:Int) ->Void)?

}
