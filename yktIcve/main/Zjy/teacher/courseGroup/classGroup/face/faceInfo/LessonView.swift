//
//  LessonView.swift
//  云课堂2
//
//  Created by 志辉教育 on 2018/7/10.
//  Copyright © 2018年 zqyou. All rights reserved.
//

import UIKit
import SwiftyJSON
class LessonView: UIViewController {

    var activity : teachActivity?

    fileprivate  let lab_icon = ["\u{e736}","\u{e742}","\u{e743}","\u{e73b}","\u{e735}","\u{e7a3}","\u{e746}","\u{e732}","\u{e748}","\u{e739}","\u{e744}","\u{e6db}"],
    lab_name = ["作业","考试","课件","签到","讨论","头脑风暴","提问","测验","投票","小组PK","问卷调查","更多"],
    lab_color = [0x8C9EF7,0x92C73D,0x479B7B,0xE98852,0x6EB5F8,0x8394E8,0x63C7AA,0xF5C44F,0x94D2F3,0xE25632,0x4593D5,0x8A8A8A],
    width = UIScreen.main.bounds.width,
    height = UIScreen.main.bounds.height;
    var selTypeClosure :((_ type:String,_ classState:Int)->Void)?
    override func viewDidLoad() {
        super.viewDidLoad()
        self.setUI();
        // Do any additional setup after loading the view.
        //判断是否点击过
//        let t = cx.readOneData(_userId: self.userInfo.id)
//        if(!t.isbrowselessonmore){
//            self.maskView()
//        }
    }
    
    func setUI(){
        for i in 0 ..< self.lab_name.count {
            let index = i / 3 ;
            let bgview = UIView.init(frame: CGRect.init(x: Int(width / 3 * CGFloat(i % 3)), y: 100 * index, width: Int(width / 3), height: 100 ));
            self.view.addSubview(bgview);
            let btn = UIButton.init();
            
            let lab = UILabel.init();
            bgview.addSubview(lab);
            bgview.addSubview(btn);
            btn.snp.makeConstraints({ (make) in
                make.width.height.equalTo(50);
                make.center.equalTo(bgview.snp.center);
                
            })
            
            lab.snp.makeConstraints({ (make) in
                make.width.equalTo(66);
                make.height.equalTo(20);
                make.centerX.equalTo(btn.snp.centerX);
                make.top.equalTo(btn.snp.bottom);
            })
            
            btn.addTarget(self, action:#selector(tapped(_:)), for:.touchUpInside);
            btn.tag = i;
            btn.backgroundColor = UIColor.white;
            btn.titleLabel?.font = UIFont(name: "iconfont", size: 30);
            btn.setTitle(lab_icon[i], for: .normal);
            btn.backgroundColor = UIColor.colorWithHex(hexColor: Int64(lab_color[i]))
            btn.setTitleColor(UIColor.white, for: .normal);
            btn.titleLabel?.textAlignment = .center;
            btn.layer.masksToBounds = true;
            btn.layer.cornerRadius = 5;
            
            lab.text = lab_name[i];
            lab.textAlignment = .center;
            lab.font = UIFont(name: "iconfont", size: 13);
            lab.textColor = UIColor.gray;
            
        }
    }
    
    @objc func tapped(_ button:UIButton){
        let tag = button.tag;
        self.activity?.classState = 2
        self.activity?.name = lab_name[tag]

    }
    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }
    
    
    let cx = SQLiteManagerMask()
    lazy var makeView:UIView = {
        return UIView.init(frame: self.view.frame)
    }()
  
    var Btn_title : UIButton = {
        let btn = UIButton()
        return btn
    }()
    var tapBtn : UIButton = {
        let btn = UIButton()
        return btn
    }()
}

