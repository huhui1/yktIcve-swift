//
//  faceClassMoreView.swift
//  云课堂2
//
//  Created by 志辉教育 on 2018/7/10.
//  Copyright © 2018年 zqyou. All rights reserved.
//


import UIKit

class faceClassMoreView: UIViewController {
    
    override func viewDidLoad() {
        super.viewDidLoad()
        self.modalPresentationStyle = .custom
        // Do any additional setup after loading the view.
        self.setUI()
    }
    
    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }
    
    
    
    
    func setUI(){
        self.view.addSubview(self.bgview)
        self.bgview.addSubview(self.btn_cancel)
        self.bgview.addSubview(self.lab_line)
        
        
        self.bgview.addSubview(bgviewshot)
        self.bgview.addSubview(bgviewwhiteboard)
        self.bgview.addSubview(bgviewphoto)
        self.bgview.addSubview(bgviewmarking)
        
        self.bgviewwhiteboard.addSubview(self.btn_whiteboard)
        self.bgviewwhiteboard.addSubview(self.lab_whiteboard)
        
        self.bgviewshot.addSubview(self.btn_shot)
        self.bgviewshot.addSubview(self.lab_shot)
        
        self.bgviewphoto.addSubview(self.btn_photo)
        self.bgviewphoto.addSubview(self.lab_photo)
        
        self.bgviewmarking.addSubview(self.btn_marking)
        self.bgviewmarking.addSubview(self.lab_marking)
        
        
        self.bgview.snp.makeConstraints{ (make) in
            make.width.equalTo(width)
            make.height.equalTo(140)
            make.left.equalTo(0)
            make.bottom.equalTo(self.view.snp.bottom)
        }
        
        self.bgviewmarking.snp.makeConstraints{ (make) in
            make.width.equalTo(width/4)
            make.height.equalTo(85)
            make.left.equalTo(0)
            make.top.equalTo(self.bgview.snp.top)
        }
        
        self.bgviewshot.snp.makeConstraints{ (make) in
            make.width.height.top.equalTo(bgviewmarking)
            make.left.equalTo(bgviewmarking.snp.right)
        }
        
        self.bgviewphoto.snp.makeConstraints{ (make) in
            make.width.height.top.equalTo(bgviewshot)
            make.left.equalTo(bgviewshot.snp.right)
        }
        
        self.bgviewwhiteboard.snp.makeConstraints{ (make) in
            make.width.height.top.equalTo(bgviewphoto)
            make.left.equalTo(bgviewphoto.snp.right)
        }
        
        
        self.btn_cancel.snp.makeConstraints{ (make) in
            make.width.equalTo(width)
            make.height.equalTo(45)
            make.bottom.equalTo(self.bgview.snp.bottom)
            make.left.equalTo(0)
        }
        
        self.lab_line.snp.makeConstraints{ (make) in
            make.width.equalTo(width)
            make.height.equalTo(2)
            make.bottom.equalTo(self.btn_cancel.snp.top)
            make.left.equalTo(0)
        }
        
        
        self.btn_whiteboard.snp.makeConstraints{ (make) in
            make.width.height.equalTo(50)
            make.center.equalTo(bgviewwhiteboard.snp.center);
        }
        self.btn_whiteboard.setTitleColor(UIColor.white, for: .normal)
        self.btn_whiteboard.setTitle("\u{e749}", for: .normal)
 
        self.btn_whiteboard.layer.masksToBounds = true;
        self.btn_whiteboard.layer.cornerRadius = 5;
        
        self.lab_whiteboard.snp.makeConstraints{ (make) in
            make.width.equalTo(60)
            make.height.equalTo(20)
            make.centerX.equalTo(self.btn_whiteboard.snp.centerX)
            make.top.equalTo(self.btn_whiteboard.snp.bottom)
        }
        self.btn_shot.snp.makeConstraints{ (make) in
            make.width.height.equalTo(50)
            make.center.equalTo(bgviewshot.snp.center);        }
        self.btn_shot.setTitleColor(UIColor.white, for: .normal)
        self.btn_shot.setTitle("\u{e73e}", for: .normal)
      
        self.btn_shot.layer.masksToBounds = true;
        self.btn_shot.layer.cornerRadius = 5;
        
        self.lab_shot.snp.makeConstraints{ (make) in
            make.width.equalTo(60)
            make.height.equalTo(20)
            make.centerX.equalTo(self.btn_shot.snp.centerX)
            make.top.equalTo(self.btn_shot.snp.bottom)
        }
        self.btn_photo.snp.makeConstraints{ (make) in
            make.width.height.equalTo(50)
            make.center.equalTo(bgviewphoto.snp.center);
        }
        self.btn_photo.setTitleColor(UIColor.white, for: .normal)
        self.btn_photo.setTitle("\u{e7e4}", for: .normal)
       
        self.btn_photo.layer.masksToBounds = true;
        self.btn_photo.layer.cornerRadius = 5;
        
        self.lab_photo.snp.makeConstraints{ (make) in
            make.width.equalTo(60)
            make.height.equalTo(20)
            make.centerX.equalTo(self.btn_photo.snp.centerX)
            make.top.equalTo(self.btn_photo.snp.bottom)
        }
        self.btn_marking.snp.makeConstraints{ (make) in
            make.width.height.equalTo(50)
            make.center.equalTo(bgviewmarking.snp.center);
        }
        self.btn_marking.setTitleColor(UIColor.white, for: .normal)
        self.btn_marking.setTitle("\u{e73c}", for: .normal)
        

        self.btn_marking.layer.masksToBounds = true;
        self.btn_marking.layer.cornerRadius = 5;
        
        self.lab_marking.snp.makeConstraints{ (make) in
            make.width.equalTo(60)
            make.height.equalTo(20)
            make.centerX.equalTo(self.btn_marking.snp.centerX)
            make.top.equalTo(self.btn_marking.snp.bottom)
        }
        
        if( self.uploadUrl.isEmpty){
            common.share.getUploadUrl();
        }
    }
    //关闭更多
    @objc func close(){
        self.dismiss(animated: true, completion: nil)
        
    }
    //字体图标
    func shezhi(str:String, colorStr:Int64) -> NSAttributedString{
        let attributeString = NSMutableAttributedString(string:str)
        attributeString.addAttribute(NSAttributedStringKey.foregroundColor, value: UIColor.white,
                                     range: NSMakeRange(0,1))
        attributeString.addAttribute(NSAttributedStringKey.backgroundColor, value: UIColor.colorWithHex(hexColor: colorStr), range: NSMakeRange(0,1))
        attributeString.addAttribute(NSAttributedStringKey.font, value: UIFont.init(name: "iconfont", size: 40)!, range: NSMakeRange(0,1))
        return attributeString
    }
    
    @objc func tapped(_ button:UIButton){
        let tag = button.tag;
        
        if( self.uploadUrl.isEmpty){
            common.share.getUploadUrl();
        }
        switch tag {
        case 1:
            let  vc = whiteboardView()
            vc.modalTransitionStyle = .crossDissolve
            self.present(vc, animated: true, completion: nil)
        case 2:
            self.funcChooseFromCamera()
        case 3:
            self.funcChooseFromPhotoAlbum()
        default:
            let  vc = whiteboardView()
            vc.modalTransitionStyle = .crossDissolve
            self.present(vc, animated: true, completion: nil)
            
        }
    }
    //当堂打分
    @objc func jump(_ btn:UIButton){
        self.parentVc.addChoice(tag:btn.tag)
    }
    
    
    var parentVc : faceInfoView!
    lazy var courseOpenId :String = {return ""}()
    lazy var activityId: String = {return ""}()
  
    let width = UIScreen.main.bounds.width
    
    lazy var bgview : UIView = {
        let view = UIView()
        view.backgroundColor = UIColor.white
        return view
    }()
    
    lazy var bgviewwhiteboard : UIView = {
        let view = UIView()
        view.backgroundColor = UIColor.white
        return view
    }()
    
    lazy var bgviewshot : UIView = {
        let view = UIView()
        view.backgroundColor = UIColor.white
        return view
    }()
    
    lazy var bgviewphoto : UIView = {
        let view = UIView()
        view.backgroundColor = UIColor.white
        return view
    }()
    
    lazy var bgviewmarking : UIView = {
        let view = UIView()
        view.backgroundColor = UIColor.white
        return view
    }()
    
    
    
    //取消
    lazy var btn_cancel : UIButton = {
        let btn = UIButton()
        btn.backgroundColor = UIColor.white
        btn.titleLabel?.font = UIFont.init(name:"iconfont", size: 16)
        btn.setTitle("取消", for: .normal)
        btn.setTitleColor(UIColor.black, for: .normal)
        btn.addTarget(self, action: #selector(self.close), for: .touchUpInside)
        return btn
    }()
    //分割线
    lazy var lab_line : UILabel = {
        let lab = UILabel()
        lab.backgroundColor = UIColor.colorWithHex(hexColor: 0xf1f1f1)
        return lab
    }()
    //白板
    lazy var btn_whiteboard : UIButton = {
        let btn = UIButton()
        btn.backgroundColor = UIColor.colorWithHex(hexColor: 0x4593D5)
        btn.tag = 1
        btn.titleLabel?.font = UIFont.init(name:"iconfont", size: 30)
        btn.addTarget(self, action: #selector(tapped(_:)), for: .touchUpInside)
        return btn
    }()
    lazy var lab_whiteboard : UILabel = {
        let lab = UILabel()
        lab.font = UIFont.init(name:"iconfont", size:13)
        lab.backgroundColor = UIColor.white
        lab.textColor = UIColor.colorWithHex(hexColor: 0x707070)
        lab.textAlignment = .center
        lab.text = "白板"
        return lab
    }()
    //拍摄
    lazy var btn_shot : UIButton = {
        let btn = UIButton()
        btn.backgroundColor = UIColor.colorWithHex(hexColor: 0x818cf5)
        btn.tag = 2
        btn.titleLabel?.font = UIFont.init(name:"iconfont", size: 30)
        btn.addTarget(self, action: #selector(tapped(_:)), for: .touchUpInside)
        return btn
    }()
    lazy var lab_shot : UILabel = {
        let lab = UILabel()
        lab.font = UIFont.init(name:"iconfont", size:13)
        lab.backgroundColor = UIColor.white
        lab.textColor = UIColor.colorWithHex(hexColor: 0x707070)
        lab.textAlignment = .center
        lab.text = "拍摄"
        return lab
    }()
    //照片
    lazy var btn_photo : UIButton = {
        let btn = UIButton()
        btn.backgroundColor = UIColor.colorWithHex(hexColor: 0xffbb33)
        btn.tag = 3
        btn.titleLabel?.font = UIFont.init(name:"iconfont", size: 30)
        btn.addTarget(self, action: #selector(tapped(_:)), for: .touchUpInside)
        return btn
    }()
    lazy var lab_photo : UILabel = {
        let lab = UILabel()
        lab.font = UIFont.init(name:"iconfont", size:13)
        lab.backgroundColor = UIColor.white
        lab.textColor = UIColor.colorWithHex(hexColor: 0x707070)
        lab.textAlignment = .center
        lab.text = "照片"
        return lab
    }()
    //当堂打分
    lazy var btn_marking : UIButton = {
        let btn = UIButton()
        btn.backgroundColor = UIColor.colorWithHex(hexColor: 0xB7288E)
        btn.tag = 4
        btn.titleLabel?.font = UIFont.init(name:"iconfont", size: 30)
        btn.addTarget(self, action: #selector(jump(_:)), for: .touchUpInside)
        return btn
    }()
    lazy var lab_marking : UILabel = {
        let lab = UILabel()
        lab.font = UIFont.init(name:"iconfont", size:13)
        lab.backgroundColor = UIColor.white
        lab.textColor = UIColor.colorWithHex(hexColor: 0x707070)
        lab.textAlignment = .center
        lab.text = "当堂打分"
        return lab
    }()
    
    lazy var uploadUrl : String = {

        return ""
    }()
}
