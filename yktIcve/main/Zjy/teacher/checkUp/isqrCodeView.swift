//
//  isqrCodeView.swift
//  云课堂职教云
//
//  Created by 志辉教育 on 2018/5/14.
//  Copyright © 2018年 jcjy. All rights reserved.
//

import UIKit

extension qrCodeView{
    //指示浮窗
    func maskView(){
        self.view.addSubview( self.makeView)
        self.ishadden = false
        self.makeView.backgroundColor = UIColor(red: 0, green: 0, blue: 0, alpha: 0.3);
        //let tapBtn = UIButton.init()
        tapBtn.setBackgroundImage(UIImage.init(named: "handTap.png"), for: .normal)
        self.makeView.addSubview(tapBtn)

        if(UIDevice.current.model == "iPad"){
            tapBtn.snp.makeConstraints { (make) in
                make.width.height.equalTo(60)
                make.top.equalTo(self.btn_student.snp.top).offset(3)
                make.left.equalTo(self.btn_student.snp.left).offset(56)
            }
        }else{
            //iphone 7P,8P
            if(UIScreen.main.bounds.width > 375){
                tapBtn.snp.makeConstraints { (make) in
                    make.width.height.equalTo(60)
                    make.top.equalTo(self.btn_student.snp.top).offset(3)
                    make.left.equalTo(self.btn_student.snp.left).offset(12)
                }
            }else{
                tapBtn.snp.makeConstraints { (make) in
                    make.width.height.equalTo(60)
                    make.top.equalTo(self.btn_student.snp.top)
                    make.left.equalTo(self.btn_student.snp.left)
                }
            }
        }

        //let Btn_title = UIButton.init()
        Btn_title.setTitle("邀请学生，请点击左侧邀请学生注册 | 下一步", for: .normal)
        Btn_title.setTitleColor(UIColor.white, for: .normal)
        self.makeView.addSubview( Btn_title)
        let lw = UIScreen.main.bounds.width - 70  > 300 ? 300 :UIScreen.main.bounds.width - 70
        Btn_title.snp.makeConstraints { (make) in
            make.width.equalTo(lw)
            make.height.equalTo(30)
            make.left.equalTo(tapBtn.snp.left)
            make.bottom.equalTo(tapBtn.snp.top)
        }
        Btn_title.titleLabel?.adjustsFontSizeToFitWidth = true
        tapBtn.addTarget(self, action: #selector(self.hideview), for: .touchUpInside)
        Btn_title.addTarget(self, action: #selector(self.hideview), for: .touchUpInside)
    }
    
  @objc func hideview(){
        self.Btn_title.isHidden = true
        self.tapBtn.isHidden = true
        self.btn_teacher.isSelected = true
        self.btn_student.isSelected = false
        
        let tapBtn2 = UIButton.init()
        tapBtn2.setBackgroundImage(UIImage.init(named: "handTap.png"), for: .normal)
        self.makeView.addSubview(tapBtn2)
        if(UIDevice.current.model == "iPad"){
            tapBtn2.snp.makeConstraints { (make) in
                make.width.height.equalTo(60)
                make.top.equalTo(self.btn_teacher.snp.top).offset(3)
                make.left.equalTo(self.btn_teacher.snp.left).offset(56)
            }
        }else{
            tapBtn2.snp.makeConstraints { (make) in
                make.width.height.equalTo(60)
                make.top.equalTo(self.btn_teacher.snp.top)
                make.left.equalTo(self.btn_teacher.snp.left).offset(5)
            }
        }
       
        let Btn_title2 = UIButton.init()
        
        Btn_title2.setTitle("邀请老师，请点击右侧邀请老师注册 | 下一步", for: .normal)
        Btn_title2.setTitleColor(UIColor.white, for: .normal)
        self.view.addSubview( self.makeView)
        self.makeView.addSubview(Btn_title2)
        let lw2 = UIScreen.main.bounds.width - 70  > 300 ? 300 :UIScreen.main.bounds.width - 70
        Btn_title2.snp.makeConstraints { (make) in
            make.width.equalTo(lw2)
            make.height.equalTo(30)
            make.left.equalTo(tapBtn.snp.left)
            make.bottom.equalTo(tapBtn.snp.top)
        }
        Btn_title2.titleLabel?.adjustsFontSizeToFitWidth = true
        tapBtn2.addTarget(self, action: #selector(self.hideview2), for: .touchUpInside)
        Btn_title2.addTarget(self, action: #selector(self.hideview2), for: .touchUpInside)
    }
    @objc  func hideview2(){
        self.makeView.isHidden = true
        self.ishadden = true
        self.presentingViewController?.dismiss(animated: true, completion: nil)

        let cx = SQLiteManagerMask()
        cx.updateData(isType: "isbrowseQrcode")
       
    }
}


