//
//  keyBoardView.swift
//  66iclasscloud
//
//  Created by 尤增强 on 2018/1/19.
//  Copyright © 2018年 zqy. All rights reserved.
//

import UIKit

class keyBoardView: UIViewController {

    override func viewDidLoad() {
        super.viewDidLoad()
        self.modalPresentationStyle = .custom
        self.setUI()
        // Do any additional setup after loading the view.
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }

    func setUI(){

        self.view.addSubview(self.bgView)
        self.bgView.addSubview(lab_Title)
        self.lab_Title.snp.makeConstraints { (make) in
            make.width.equalTo(width)
            make.height.equalTo(30)
            make.top.equalTo(0)
        }
        self.bgView.snp.makeConstraints { (make) in
            make.width.equalTo(width)
            make.height.equalTo(240)
            make.bottom.equalTo(self.view.snp.bottom)
            make.left.equalTo(0)
        }

        for  i in 0..<self.nums.count{
            let btn = UIButton(),leftx = (i % 3) * Int(width / 3 + 1) ,topx = Int(i / 3) * 50 + 40
            if(i + 1 == self.nums.count){
                btn.backgroundColor = UIColor.colorWithHex(hexColor: 0xcfd3d9)
                btn.setTitle("返回", for: .normal)
            }else{
                btn.setTitle(String(self.nums[i]), for: .normal)
            }
            btn.setTitleColor(UIColor.gray, for: .normal)
            btn.layer.borderWidth = 0.4
            btn.layer.borderColor = UIColor.colorWithHex(hexColor: 0xf2f2f2).cgColor
            btn.contentMode = .center
            self.bgView.addSubview(btn)
            btn.snp.makeConstraints({ (make) in
                make.width.equalTo(width / 3)
                make.height.equalTo(50)
                make.left.equalTo(leftx )
                make.top.equalTo(topx)
            })
            btn.tag = nums[i]
            btn.addTarget(self, action: #selector(self.tapSocre(_:)), for: .touchUpInside)

        }
    }

    @objc fileprivate func tapSocre(_ btn:UIButton){

        self.setSocreClosure!(btn.tag)


    }
    fileprivate  lazy var lab_Title :UILabel = {
        let lab = UILabel()
        lab.textColor = UIColor.gray
        lab.text = "课堂表现"
        lab.font = UIFont.init(name: "iconfont", size: 14)
        lab.textAlignment = .center
        return lab

    }()

    fileprivate  lazy var bgView :UIView = {
        let view = UIView()
        view.backgroundColor = UIColor.white
        return view
    }()

    override func touchesEnded(_ touches: Set<UITouch>, with event: UIEvent?) {
        self.presentingViewController?.dismiss(animated: true, completion: nil);

    }

    var selectNumClosure :(() ->Void)?
    var nums = [5,4,3,2,1,0,-1,-2,-3,-4,-5,999];

    fileprivate var width = UIScreen.main.bounds.width

    var setSocreClosure :((_ score:Int) ->Void)?
    /*
    // MARK: - Navigation

    // In a storyboard-based application, you will often want to do a little preparation before navigation
    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {
        // Get the new view controller using segue.destinationViewController.
        // Pass the selected object to the new view controller.
    }
    */

}
